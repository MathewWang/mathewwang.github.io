<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Summary | 马修修的技术博客]]></title>
  <link href="http://mathewwang.github.io/blog/categories/summary/atom.xml" rel="self"/>
  <link href="http://mathewwang.github.io/"/>
  <updated>2015-10-28T17:52:56+08:00</updated>
  <id>http://mathewwang.github.io/</id>
  <author>
    <name><![CDATA[马修修]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[如何通过octopress搭建博客]]></title>
    <link href="http://mathewwang.github.io/blog/2015/10/27/ru-he-tong-guo-octopressda-jian-bo-bo-ke/"/>
    <updated>2015-10-27T23:38:23+08:00</updated>
    <id>http://mathewwang.github.io/blog/2015/10/27/ru-he-tong-guo-octopressda-jian-bo-bo-ke</id>
    <content type="html"><![CDATA[<hr />

<p>工作几年了，突然发现自己居然没有博客，这怎么行！！！前几天看到同事们的博客都搞的很像模像样的，自己也手痒，就花了两天时间用octopress＋github pages搭了一个，至于为什么用octopress，当然是因为唐巧大神也在用啊，从他那边看了好多很不错的文章，深感敬佩。既然是需要自己动手做，自然会遇到一些莫名奇妙的问题，下面就是介绍我自己是如何搭的：</p>

<h2>准备工作</h2>

<p>Mac一台并且配好了github SSH访问权限，已注册好github，可以正常访问github的网络</p>

<h2>Github pages配置</h2>

<p>关于Github pages的配置在<a href="https://pages.github.com">Github pages</a>官网有很详细的介绍，按照上面的步骤一步一步来就好了。这里假设你的github pages的路径是“user_name.github.io”.</p>

<h2>Ruby环境安装</h2>

<p>ruby的安装有多种方式，我这里用的是rbenv来安装的：</p>

<h3>rbenv安装</h3>

<p>可以参考<a href="http://octopress.org/docs/setup/rbenv/">rben安装</a></p>

<pre><code> cd
 git clone git://github.com/sstephenson/rbenv.git .rbenv
 echo 'export PATH="$HOME/.rbenv/bin:$PATH"' &gt;&gt; ~/.bash_profile
 echo 'eval "$(rbenv init -)"' &gt;&gt; ~/.bash_profile
 git clone git://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build
 source ~/.bash_profile
</code></pre>

<h3>安装ruby</h3>

<p>我这里使用ruby的2.2.3版本</p>

<pre><code>rbenv install 2.2.3
rbenv local 2.2.3
rbenv rehash  //这个命令很重要
</code></pre>

<h2>octopress安装和配置</h2>

<p>重头戏来了，这里就是安装octopress,我在这里卡了好久，octopress是从github上直接拉去的，请参考下面的命令：</p>

<pre><code>git clone git://github.com/imathis/octopress.git octopress
cd octopress
gem install bundler
rbenv rehash    # 这个一定执行
bundle install
rake install  #这个命令执行完之后会在octopress目录下面生成一个“source”文件夹
</code></pre>

<h4>这里有几个需要注意的地方：</h4>

<p>1.在执行gem之前先执行下面的命令将gem的源换成伟大的淘宝源：</p>

<pre><code>gem sources -l #查看当前的gem源
gem sources --remove https://rubygems.org/
gem sources -a https://ruby.taobao.org/  #注意这里已经变成https了，现在网上还有很多教程用http是不对的
</code></pre>

<p>2.执行完上面的操作之后你会发现为什么我的gem命令还是去<a href="">https://rubygems.org/</a>,这是因为octopress项目里面的Gemfile里依然用的还是用之前的，并且项目的优先级是高于全局配置的，这里只要修改一下就可以了。</p>

<p>3.最后在执行“bundle install”的时候，我遇到了一个报错说“RedCloth －v ‘4.2.9’” 安装失败，不太清楚具体的原因。。。然后我就想了一个方法绕过去，先单独执行“gem install RedCloth －v ‘4.2.9’” 将它安装成功，然后将这个依赖从octopress的Gemfile中删掉就好了。</p>

<h2>关联github和本地的octopress</h2>

<pre><code>rake setup_github_pages
</code></pre>

<p>执行这个命令时会需要输入github pages对应的那个repos路径，按照提示输入并确定即可。执行完之后会在octopress目录上生成一个“<em>deploy”的目录，之后生成的博客内容都是在这个文件夹上，另外这里还是将octopress目录指向你github pages repos对应的新source分支，并且将“</em>deploy”指向master分支。以后博客的内容(_deploy目录里的文件)会被push到master分支，而其它的文件会被放到source分支，当你在新的电脑上写博客的时候直接配置好本地的octopress环境，然后用github上的source和master分支覆盖本地的对应目录然后执行“rake setup_github_pages”就又可以愉快的写博客啦。</p>

<h2>简单blog发布</h2>

<p>所有的配置工作准备好了之后就是写博客和发布博客啦，octopress使用了rake的下面几个task来完成博客的html文件生成和发布，具体可以参考<a href="http://octopress.org/docs/blogging/">这里</a>：</p>

<pre><code>rake new_post["blog_title"]   #这个命令就是生存博客的框架，是一个markdown文件，写博客的时候直接修改这个文件就可以
rake generate  #将上面的markdown文件生成对应的html文件
rake preview   #博客预览，端口是4000，如：localhost:4000/blog/archives/index.html
rake deploy    #将生产的博客发布到你前面设置的对应的github page repos
</code></pre>

<h4>这里有几个注意的地方</h4>

<p>当需要deploy的时候最好是进到“_deploy”目录。如果push失败可以自己手动pull之后再push。当需要将博客正文以外的其它文件提交到source分支最好是进到“source”目录。因为octopress对应两个分支，在提交的时候应该要注意一些。</p>

<p>关于博客页面如何调整以及如何添加分享入口和评论，请参考下面唐巧的博客。</p>

<h2>引用</h2>

<p>这里有一些可以参考的文章</p>

<p><a href="http://blog.devtang.com/blog/2012/02/10/setup-blog-based-on-github/">唐巧的技术博客</a></p>
]]></content>
  </entry>
  
</feed>
